{"version":3,"sources":["components/Cart/Checkout.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/UI/Modal.module.css","components/Meals/AvaiableMeals.module.css","components/Meals/MealItem/MealItem.module.css","components/Layout/Header.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/Meals/MealsSummary.module.css","components/UI/Modal.js","store/cart-context.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","assets/meals.jpg","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvaiableMeals.js","components/Meals/MealsSummary.js","components/Meals/Meals.js","store/CartProvider.js","App.js","index.js"],"names":["module","exports","Backdrop","props","className","styles","backdrop","onClick","onClose","ModalOverlay","modal","content","children","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartContext","React","createContext","items","totalAmount","addItem","removeItem","CartItem","price","toFixed","classes","name","summary","amount","actions","onRemove","onAdd","isEmpty","value","trim","Checkout","useState","street","city","postalCode","formInputsValidity","setFormInputsValidity","nameInputRef","useRef","streetInputRef","postalInputRef","cityInputRef","nameControlClasses","control","invalid","streetControlClasses","postalControlClasses","cityControlClasses","form","onSubmit","event","preventDefault","enteredName","current","enteredStreet","enteredPostalCode","enteredCity","enteredNameIsValid","enteredStreetIsValid","enteredCityIsValid","enteredPostalCodeIsValid","length","onConfirm","htmlFor","type","id","ref","onCancel","submit","Cart","isCheckout","setIsCheckout","isSubmiting","setIsSubmiting","didSubmit","setDidSubmit","cartCtx","useContext","hasItems","cartItemRemoveHandler","cartItemAddHandler","item","submitOrderHandler","userData","fetch","method","body","JSON","stringify","user","orderedItems","catch","clearCart","cartItems","map","bind","modalActions","onCloseCart","button","cartModalContent","Fragment","total","isSubmitingModalContent","didSubmitingModalContent","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","btnIsHighlighted","setBtnIsHighlighted","numberOfCartItems","reduce","curNumber","btnClasses","bump","useEffect","timer","setTimeout","clearTimeout","icon","badge","Header","header","onShowCart","src","mealsImg","alt","Card","card","Input","forwardRef","input","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","enteredAmount","enteredAmountNumber","onAddToCart","min","max","step","defaultValue","MealItem","meal","description","DUMMY_MEALS","AvaiableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchMeals","response","ok","Error","json","key","responseData","loadedMeals","push","error","message","mealsLoading","mealsError","mealsList","MealsSummary","Meals","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","cartIsShown","setCartIsShown","createRoot","render"],"mappings":"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","file":"static/js/main.03cdc12a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__1I7NC\",\"control\":\"Checkout_control__-Dce7\",\"actions\":\"Checkout_actions__2VL_q\",\"submit\":\"Checkout_submit__1TwvB\",\"invalid\":\"Checkout_invalid__2TFmM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__DOWtz\",\"total\":\"Cart_total__1XhGT\",\"actions\":\"Cart_actions__160zx\",\"button--alt\":\"Cart_button--alt__1yDKH\",\"button\":\"Cart_button__1R4OH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__2pCYb\",\"summary\":\"CartItem_summary__3ZRzX\",\"price\":\"CartItem_price__2xPQm\",\"amount\":\"CartItem_amount__3MM_A\",\"actions\":\"CartItem_actions__UZmpb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__2SUu2\",\"icon\":\"HeaderCartButton_icon__1PuWM\",\"badge\":\"HeaderCartButton_badge__1gypb\",\"bump\":\"HeaderCartButton_bump__3gdCb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1a_nc\",\"modal\":\"Modal_modal__SWYEE\",\"slide-down\":\"Modal_slide-down__3ERPQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvaiableMeals_meals__6v9ra\",\"meals-appear\":\"AvaiableMeals_meals-appear__tLTpv\",\"mealsLoading\":\"AvaiableMeals_mealsLoading__2Wn4Q\",\"mealsError\":\"AvaiableMeals_mealsError__b-lWX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3VaQv\",\"description\":\"MealItem_description__3ibmm\",\"price\":\"MealItem_price__3Yiri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__OcM4Q\",\"main-image\":\"Header_main-image__2rIm7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3HKSM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1hjPT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2gFij\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__gh9mM\"};","import { Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={styles.backdrop} onClick={props.onClose}></div>;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={styles.modal}>\r\n      <div className={styles.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById('overlays');\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onClose={props.onClose} />,\r\n        portalElement\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: () => {},\r\n  removeItem: () => {},\r\n});\r\n\r\nexport default CartContext;\r\n","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes['cart-item']}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import { useRef, useState } from 'react';\r\nimport styles from './Checkout.module.css';\r\n\r\nconst isEmpty = (value) => value.trim() === '';\r\nconst isFiveChars = (value) => value.trim().length === 5;\r\n\r\nconst Checkout = (props) => {\r\n  const [formInputsValidity, setFormInputsValidity] = useState({\r\n    name: true,\r\n    street: true,\r\n    city: true,\r\n    postalCode: true,\r\n  });\r\n\r\n  const nameInputRef = useRef();\r\n  const streetInputRef = useRef();\r\n  const postalInputRef = useRef();\r\n  const cityInputRef = useRef();\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredStreet = streetInputRef.current.value;\r\n    const enteredPostalCode = postalInputRef.current.value;\r\n    const enteredCity = cityInputRef.current.value;\r\n\r\n    const enteredNameIsValid = !isEmpty(enteredName);\r\n    const enteredStreetIsValid = !isEmpty(enteredStreet);\r\n    const enteredCityIsValid = !isEmpty(enteredCity);\r\n    const enteredPostalCodeIsValid = isFiveChars(enteredPostalCode);\r\n\r\n    setFormInputsValidity({\r\n      name: enteredNameIsValid,\r\n      street: enteredStreetIsValid,\r\n      city: enteredCityIsValid,\r\n      postalCode: enteredPostalCodeIsValid,\r\n    });\r\n\r\n    const formIsValid =\r\n      enteredNameIsValid &&\r\n      enteredStreetIsValid &&\r\n      enteredCityIsValid &&\r\n      enteredPostalCodeIsValid;\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n    props.onConfirm({\r\n      name: enteredName,\r\n      street: enteredStreet,\r\n      postalCode: enteredPostalCode,\r\n      city: enteredCity,\r\n    });\r\n  };\r\n\r\n  const nameControlClasses = `${styles.control} ${\r\n    formInputsValidity.name ? '' : styles.invalid\r\n  }`;\r\n  const streetControlClasses = `${styles.control} ${\r\n    formInputsValidity.street ? '' : styles.invalid\r\n  }`;\r\n  const postalControlClasses = `${styles.control} ${\r\n    formInputsValidity.postalCode ? '' : styles.invalid\r\n  }`;\r\n  const cityControlClasses = `${styles.control} ${\r\n    formInputsValidity.city ? '' : styles.invalid\r\n  }`;\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={confirmHandler}>\r\n      <div className={nameControlClasses}>\r\n        <label htmlFor='name'>Your Name</label>\r\n        <input type='text' id='name' ref={nameInputRef} />\r\n        {!formInputsValidity.name && <p>Please enter a valid name</p>}\r\n      </div>\r\n      <div className={streetControlClasses}>\r\n        <label htmlFor='street'>Street</label>\r\n        <input type='text' id='street' ref={streetInputRef} />\r\n        {!formInputsValidity.street && <p>Please enter a valid street</p>}\r\n      </div>\r\n      <div className={postalControlClasses}>\r\n        <label htmlFor='postal'>Postal Code</label>\r\n        <input type='text' id='postal' ref={postalInputRef} />\r\n        {!formInputsValidity.postalCode && (\r\n          <p>Please enter a valid postal code (5 caracters long)</p>\r\n        )}\r\n      </div>\r\n      <div className={cityControlClasses}>\r\n        <label htmlFor='city'>City</label>\r\n        <input type='text' id='city' ref={cityInputRef} />\r\n        {!formInputsValidity.city && <p>Please enter a valid city</p>}\r\n      </div>\r\n      <div className={styles.actions}>\r\n        <button type='button' onClick={props.onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button className={styles.submit}>Confirm</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useContext, useState } from 'react';\r\n\r\nimport Modal from '../UI/Modal';\r\nimport styles from './Cart.module.css';\r\nimport CartContext from '../../store/cart-context';\r\nimport CartItem from './CartItem';\r\nimport Checkout from './Checkout';\r\n\r\nconst Cart = (props) => {\r\n  const [isCheckout, setIsCheckout] = useState(false);\r\n  const [isSubmiting, setIsSubmiting] = useState(false);\r\n  const [didSubmit, setDidSubmit] = useState(false);\r\n\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n\r\n  const orderHandler = () => {\r\n    setIsCheckout(true);\r\n  };\r\n\r\n  const submitOrderHandler = async (userData) => {\r\n    setIsSubmiting(true);\r\n    await fetch(\r\n      'https://food-react-app-54dd3-default-rtdb.europe-west1.firebasedatabase.app/orders.json',\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify({ user: userData, orderedItems: cartCtx.items }),\r\n      }\r\n    ).catch(() => {\r\n      setIsSubmiting(false);\r\n      setDidSubmit(true);\r\n      cartCtx.clearCart();\r\n    });\r\n\r\n    setIsSubmiting(false);\r\n    setDidSubmit(true);\r\n    cartCtx.clearCart();\r\n  };\r\n\r\n  const cartItems = (\r\n    <ul className={styles['cart-items']}>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  const modalActions = (\r\n    <div className={styles.actions}>\r\n      <button className={styles['button--alt']} onClick={props.onCloseCart}>\r\n        Close\r\n      </button>\r\n      {hasItems && (\r\n        <button className={styles.button} onClick={orderHandler}>\r\n          Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const cartModalContent = (\r\n    <React.Fragment>\r\n      {cartItems}\r\n      <div className={styles.total}>\r\n        <span>Total Amount</span>\r\n        <span>{totalAmount}</span>\r\n      </div>\r\n      {isCheckout && (\r\n        <Checkout onConfirm={submitOrderHandler} onCancel={props.onCloseCart} />\r\n      )}\r\n      {!isCheckout && modalActions}\r\n    </React.Fragment>\r\n  );\r\n\r\n  const isSubmitingModalContent = <p>Sending order data...</p>;\r\n  const didSubmitingModalContent = (\r\n    <React.Fragment>\r\n      <p>Successfully sent the order!</p>\r\n      <div className={styles.actions}>\r\n        <button className={styles.button} onClick={props.onCloseCart}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={props.onCloseCart}>\r\n      {!isSubmiting && !didSubmit && cartModalContent}\r\n      {isSubmiting && isSubmitingModalContent}\r\n      {!isSubmiting && didSubmit && didSubmitingModalContent}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","const CartIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      viewBox='0 0 20 20'\r\n      fill='currentColor'\r\n    >\r\n      <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CartIcon;\r\n","import { useContext, useEffect, useState } from 'react';\r\n\r\nimport CartIcon from '../Cart/CartIcon';\r\nimport CartContext from '../../store/cart-context';\r\n\r\nimport styles from './HeaderCartButton.module.css';\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const { items } = cartCtx;\r\n\r\n  const numberOfCartItems = items.reduce((curNumber, item) => {\r\n    return curNumber + item.amount;\r\n  }, 0);\r\n\r\n  const btnClasses = `${styles.button} ${btnIsHighlighted ? styles.bump : ''}`;\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighlighted(true);\r\n    const timer = setTimeout(() => {\r\n      setBtnIsHighlighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  return (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={styles.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={styles.badge}>{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","import { Fragment } from 'react';\r\nimport mealsImg from '../../assets/meals.jpg';\r\nimport styles from './Header.module.css';\r\nimport HeaderCartButton from './HeaderCartButton';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <header className={styles.header}>\r\n        <h1>YummyMeals</h1>\r\n        <HeaderCartButton onClick={props.onShowCart} />\r\n      </header>\r\n      <div className={styles['main-image']}>\r\n        <img src={mealsImg} alt='Food img' />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import styles from './Card.module.css';\r\n\r\nconst Card = (props) => {\r\n  return <div className={styles.card}>{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport styles from './Input.module.css';\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  return (\r\n    <div className={styles.input}>\r\n      <label htmlFor={props.input.id}>{props.label}</label>\r\n      <input {...props.input} ref={ref} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import { useRef, useState } from 'react';\r\nimport Input from '../../UI/Input';\r\nimport styles from './MealItemForm.module.css';\r\n\r\nconst MealItemForm = (props) => {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n  const amountInputRef = useRef();\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredAmount = amountInputRef.current.value;\r\n    const enteredAmountNumber = +enteredAmount;\r\n\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 10\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n  return (\r\n    <form className={styles.form} onSubmit={submitHandler}>\r\n      <Input\r\n        ref={amountInputRef}\r\n        label='Amount'\r\n        input={{\r\n          id: 'amount' + props.id,\r\n          type: 'number',\r\n          min: '1',\r\n          max: '10',\r\n          step: '1',\r\n          defaultValue: '1',\r\n        }}\r\n      />\r\n      <button>+ Add</button>\r\n      {!amountIsValid && <p>Please enter a valid amount (1-10)</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MealItemForm;\r\n","import { useContext } from 'react';\r\n\r\nimport MealItemForm from './MealItemForm';\r\nimport styles from './MealItem.module.css';\r\nimport CartContext from '../../../store/cart-context';\r\n\r\nconst MealItem = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({\r\n      id: props.id,\r\n      name: props.name,\r\n      amount: amount,\r\n      price: props.price,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <li className={styles.meal}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <div className={styles.description}>{props.description}</div>\r\n        <div className={styles.price}>{price}</div>\r\n      </div>\r\n      <div>\r\n        <MealItemForm id={props.id} onAddToCart={addToCartHandler} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MealItem;\r\n","import { useEffect, useState } from 'react';\r\nimport Card from '../UI/Card';\r\nimport styles from './AvaiableMeals.module.css';\r\nimport MealItem from './MealItem/MealItem';\r\n\r\nconst DUMMY_MEALS = [\r\n  {\r\n    id: 'm1',\r\n    name: 'Sushi',\r\n    description: 'Finest fish and veggies',\r\n    price: 22.99,\r\n  },\r\n  {\r\n    id: 'm2',\r\n    name: 'Schnitzel',\r\n    description: 'A german specialty!',\r\n    price: 16.5,\r\n  },\r\n  {\r\n    id: 'm3',\r\n    name: 'Barbecue Burger',\r\n    description: 'American, raw, meaty',\r\n    price: 12.99,\r\n  },\r\n  {\r\n    id: 'm4',\r\n    name: 'Green Bowl',\r\n    description: 'Healthy...and green...',\r\n    price: 18.99,\r\n  },\r\n];\r\n\r\nconst AvaiableMeals = () => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [httpError, setHttpError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMeals = async () => {\r\n      const response = await fetch(\r\n        'https://food-react-app-54dd3-default-rtdb.europe-west1.firebasedatabase.app/meals.json'\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Something went wrong!');\r\n      }\r\n\r\n      const responseData = await response.json();\r\n      const loadedMeals = [];\r\n\r\n      for (const key in responseData) {\r\n        loadedMeals.push({\r\n          id: key,\r\n          name: responseData[key].name,\r\n          description: responseData[key].description,\r\n          price: responseData[key].price,\r\n        });\r\n      }\r\n\r\n      setMeals(loadedMeals);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchMeals().catch((error) => {\r\n      setIsLoading(false);\r\n      setHttpError(error.message);\r\n    });\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <section className={styles.mealsLoading}>\r\n        <p>Loading...</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  const addDummyMealsHandler = () => {\r\n    setMeals(DUMMY_MEALS);\r\n    setHttpError(false);\r\n  };\r\n\r\n  if (httpError) {\r\n    return (\r\n      <section className={styles.mealsError}>\r\n        <p>{httpError}</p>\r\n        <button onClick={addDummyMealsHandler}>Add dummy meals!</button>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  const mealsList = meals.map((meal) => (\r\n    <MealItem\r\n      key={meal.id}\r\n      id={meal.id}\r\n      name={meal.name}\r\n      price={meal.price}\r\n      description={meal.description}\r\n    >\r\n      {meal.name}\r\n    </MealItem>\r\n  ));\r\n\r\n  return (\r\n    <section className={styles.meals}>\r\n      <Card>\r\n        <ul>{mealsList}</ul>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvaiableMeals;\r\n","import classes from './MealsSummary.module.css';\r\n\r\nconst MealsSummary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealsSummary;\r\n","import { Fragment } from 'react';\r\nimport AvaiableMeals from './AvaiableMeals';\r\nimport MealsSummary from './MealsSummary';\r\n\r\nconst Meals = () => {\r\n  return (\r\n    <Fragment>\r\n      <MealsSummary />\r\n      <AvaiableMeals />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Meals;\r\n","import { useReducer } from 'react';\r\n\r\nimport CartContext from './cart-context';\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n    let updatedItems;\r\n\r\n    if (existingCartItem) {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  if (action.type === 'REMOVE') {\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n    const updatedTotalAmount = state.totalAmount - existingCartItem.price;\r\n    let updatedItems;\r\n\r\n    if (existingCartItem.amount === 1) {\r\n      updatedItems = state.items.filter((item) => item.id !== action.id);\r\n    } else {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount - 1,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  if (action.type === 'CLEAR') {\r\n    return defaultCartState;\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nconst CartProvider = (props) => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n\r\n  const addItemToCartHandler = (item) => {\r\n    dispatchCartAction({ type: 'ADD', item: item });\r\n  };\r\n\r\n  const removeItemToCartHandler = (id) => {\r\n    dispatchCartAction({ type: 'REMOVE', id: id });\r\n  };\r\n\r\n  const clearCartHandler = () => {\r\n    dispatchCartAction({ type: 'CLEAR' });\r\n  };\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemToCartHandler,\r\n    clearCart: clearCartHandler,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import { useState } from 'react';\n\nimport Cart from './components/Cart/Cart';\nimport Header from './components/Layout/Header';\nimport Meals from './components/Meals/Meals';\nimport CartProvider from './store/CartProvider';\n\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHandler = () => {\n    setCartIsShown(false);\n  };\n\n  return (\n    <CartProvider>\n      {cartIsShown && <Cart onCloseCart={hideCartHandler} />}\n      <Header onShowCart={showCartHandler} />\n      <main>\n        <Meals />\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}